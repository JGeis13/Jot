"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}var controllersMain=[{cmd:"undo",args:null,icon:"undo",type:"btn",group:"memory"},{cmd:"redo",args:null,icon:"redo",type:"btn",group:"memory"},{cmd:"fontName",icon:null,type:"dropdown",group:null,args:[["Arial, Helvetica, sans-serif","Arial"],["\"Arial Black\", Gadget, sans-serif","Arial Black"],["Verdana, Geneva, sans-serif","Verdana"],["\"Courier New\", Courier, monospace","Courier"],["\"Times New Roman\", Times, serif","Times"]]},{cmd:"fontSize",icon:"format_size",type:"dropdown",group:null,args:[[2,"Small","small"],[3,"Medium","medium"],[4,"Large","large"],[5,"Huge","x-large"]]},{cmd:"bold",icon:"format_bold",args:null,type:"btn",group:"stylize"},{cmd:"italic",icon:"format_italic",args:null,type:"btn",group:"stylize"},{cmd:"underline",icon:"format_underline",args:null,type:"btn",group:"stylize"},{cmd:"foreColor",icon:"format_color_text",type:"dropdown",group:null,args:[["black","Black"],["grey","Grey"],["red","Red"],["blue","Blue"],["green","Green"],["white","White"]]},{cmd:"backColor",icon:"format_color_fill",type:"dropdown",group:null,args:[["black","Black"],["grey","Grey"],["red","Red"],["blue","Blue"],["green","Green"],["white","White"]]},{cmd:"justifyLeft",icon:"format_align_left",args:null,type:"dropdown",group:"align"},{cmd:"justifyRight",icon:"format_align_right",args:null,type:"dropdown",group:"align"},{cmd:"justifyCenter",icon:"format_align_center",args:null,type:"dropdown",group:"align"},{cmd:"justifyFull",icon:"format_align_justify",args:null,type:"dropdown",group:"align"},{cmd:"insertUnorderedList",icon:"format_list_bulleted",args:null,type:"btn",group:"list"},{cmd:"insertOrderedList",icon:"format_list_numbered",args:null,type:"btn",group:"list"},{cmd:"indent",icon:"format_indent_increase",args:null,type:"btn",group:"misc"},{cmd:"outdent",icon:"format_indent_decrease",args:null,type:"btn",group:"misc"},{cmd:"removeFormat",icon:"format_clear",args:null,type:"btn",group:"misc"}],controllersTitle=[{cmd:"undo",args:null,icon:"undo",type:"btn",group:"memory"},{cmd:"redo",args:null,icon:"redo",type:"btn",group:"memory"},{cmd:"fontName",icon:null,type:"dropdown",group:null,args:[["Arial, Helvetica, sans-serif","Arial"],["\"Arial Black\", Gadget, sans-serif","Arial Black"],["Verdana, Geneva, sans-serif","Verdana"],["\"Courier New\", Courier, monospace","Courier"],["\"Times New Roman\", Times, serif","Times"]]},{cmd:"bold",icon:"format_bold",args:null,type:"btn",group:"stylize"},{cmd:"italic",icon:"format_italic",args:null,type:"btn",group:"stylize"},{cmd:"underline",icon:"format_underline",args:null,type:"btn",group:"stylize"},{cmd:"foreColor",icon:"format_color_text",type:"dropdown",group:null,args:[["black","Black"],["grey","Grey"],["red","Red"],["blue","Blue"],["green","Green"],["white","White"]]},{cmd:"backColor",icon:"format_color_fill",type:"dropdown",group:null,args:[["black","Black"],["grey","Grey"],["red","Red"],["blue","Blue"],["green","Green"],["white","White"]]},{cmd:"removeFormat",icon:"format_clear",args:null,type:"btn",group:"misc"}],TextEditor=function(){function a(b,c){var d=this;_classCallCheck(this,a),this.textArea=b,this.controllers=c,this.controllerGroups=[],this.toolbar=document.createElement("DIV"),this.container=document.createElement("DIV"),this.initialize(),document.addEventListener("mouseup",this.handleDocMouseup.bind(this)),this.toolbar.addEventListener("mousedown",this.handleToolbarMousedown.bind(this)),this.dropTriggers.forEach(function(a){a.addEventListener("mousedown",d.toggleDropdown)}),this.toolBtns.forEach(function(a){a.addEventListener("mousedown",d.handleBtnClick)}),this.dropItems.forEach(function(a){a.addEventListener("mousedown",d.handleDropItemClick)}),this.textArea.addEventListener("keydown",this.handleTextAreaKeydown),console.log(this.textArea),this.textArea.addEventListener("mouseup",this.updateToolbarSelected.bind(this)),this.updateToolbarSelected(),this.toolbar.classList.add("toolbar"),this.insertEditor()}return _createClass(a,[{key:"seperateGroups",value:function seperateGroups(){var a=this;this.controllers.forEach(function(b,c){if(0==c||!b.group||b.group!==a.controllers[c-1].group){var d=b.group?b.group:"single";a.controllerGroups.push({name:d,items:[b]})}else if(b.group&&b.group===a.controllers[c-1].group){var e=a.controllerGroups.findIndex(function(a){return a.name===b.group});a.controllerGroups[e].items.push(b)}})}},{key:"buildGroups",value:function buildGroups(){var a=this;this.controllerGroups.forEach(function(b){var c=document.createElement("DIV");c.classList.add("btn-group"),"single"!==b.name&&"dropdown"===b.items[0].type?(c.appendChild(a.buildDropdown(b)),b.items.forEach(function(b){c.querySelector(".drop-menu").appendChild(a.buildDropdownItem(b,b.cmd))}),a.toolbar.appendChild(c),a.toolbar.innerHTML+="<div class=\"toolbar-break\"></div>"):"single"===b.name&&"dropdown"===b.items[0].type?(c.appendChild(a.buildDropdown(b)),b.items[0].args.forEach(function(d){c.querySelector(".drop-menu").appendChild(a.buildDropdownItem(d,b.items[0].cmd))}),a.toolbar.appendChild(c),a.toolbar.innerHTML+="<div class=\"toolbar-break\"></div>"):"single"!==b.name&&"dropdown"!==b.items[0].type&&(b.items.forEach(function(b){c.appendChild(a.buildBtn(b))}),a.toolbar.appendChild(c),a.toolbar.innerHTML+="<div class=\"toolbar-break\"></div>")})}},{key:"buildBtn",value:function buildBtn(a){var b=document.createElement("DIV");return b.classList.add("toolbar-btn"),b.dataset.command=a.cmd,b.innerHTML="<i class=\"material-icons\">".concat(a.icon,"</i>"),b}},{key:"buildDropdownItem",value:function buildDropdownItem(a,b){var c,d=document.createElement("LI");d.classList.add("drop-item"),"fontName"===b?(d.style.fontFamily=a[0],c=a[0]):"fontSize"===b?(d.style.fontSize=a[2],c=a[0]):"foreColor"===b?(d.style.color=a[0],c=a[0]):"backColor"===b?(d.style.border="2px solid "+a[0],c=a[0]):c=null;var e=Array.isArray(a)?a[1]:"<i class='material-icons'>"+a.icon+"</i>";return d.innerHTML=e,d.dataset.command=b,d.dataset.argument=c,d}},{key:"buildDropdown",value:function buildDropdown(a){var b=document.createElement("DIV"),c=a.items[0].icon?a.items[0].icon:a.items[0].args[0][1],d=a.items[0].icon?"btn":"text";return b.classList.add("drop-container"),"fontName"===a.items[0].cmd&&b.classList.add("fontName-container"),b.innerHTML="\n    <div class='drop-trigger' data-command='".concat(a.items[0].cmd,"'>\n      <span>").concat("text"===d?c:"<i class=\"material-icons\">"+c+"</i>","</span>\n      <i class='material-icons'>arrow_drop_down</i>\n    </div>\n    <ul class='drop-menu'>\n    </ul>"),b}},{key:"initialize",value:function initialize(){this.seperateGroups(),this.buildGroups(),this.toolBtns=this.toolbar.querySelectorAll(".toolbar-btn"),this.dropTriggers=this.toolbar.querySelectorAll(".drop-trigger"),this.dropItems=this.toolbar.querySelectorAll(".drop-item")}},{key:"handleDocMouseup",value:function handleDocMouseup(a){var b=this.toolbar.querySelector(".drop-menu.active");if(b){a.preventDefault();var c=a.target.closest(".drop-container"),d=a.target.closest(".drop-item");c?d&&this.toggleDropdown():this.toggleDropdown()}}},{key:"handleToolbarMousedown",value:function handleToolbarMousedown(a){a.preventDefault(),this.textArea.focus(),this.updateToolbarSelected(a)}},{key:"handleBtnClick",value:function handleBtnClick(a){a.preventDefault();var b=a.target.closest(".toolbar-btn");document.execCommand(b.dataset.command,!1,null)}},{key:"handleDropItemClick",value:function handleDropItemClick(a){var b=a.target.closest(".drop-item");document.execCommand(b.dataset.command,!1,b.dataset.argument)}},{key:"toggleDropdown",value:function toggleDropdown(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(a){var b=a.target.closest(".drop-container").querySelector(".drop-menu");"block"===b.style.display?(b.style.display="none",b.classList.remove("active")):(b.style.display="block",b.classList.add("active"))}else{var c=document.querySelector(".drop-menu.active");c&&(c.style.display="none",c.classList.remove("active"))}}},{key:"updateToolbarSelected",value:function updateToolbarSelected(){var a=this,b=this.toolbar;["bold","underline","italic","insertUnorderedList","insertOrderedList"].forEach(function(a){var c=b.querySelector("[data-command='"+a+"']");c&&(document.queryCommandState(a)?c.classList.add("active"):c.classList.remove("active"))});var c=this.controllers.find(function(a){return"fontName"===a.cmd}),d=document.queryCommandValue("FontName"),e=c.args.find(function(a){return a[0]===d}),f=e?e[1]:"Default",g=this.toolbar.querySelector("[data-command=\"fontName\"] > span");if(g.textContent=f,g.style.fontFamily=d,this.controllers.find(function(a){return"align"===a.group})){var h=this.toolbar.querySelector("[data-command=\"justifyLeft\"] > span > i");["justifyLeft","justifyRight","justifyCenter","justifyFull"].forEach(function(b){if(document.queryCommandState(b))return void(h.textContent=a.controllers.find(function(a){return a.cmd===b}).icon)})}}},{key:"handleTextAreaKeydown",value:function handleTextAreaKeydown(a){a=a||window.event,9===a.keyCode&&(a.preventDefault(),document.execCommand("insertText",!1,"  "))}},{key:"insertEditor",value:function insertEditor(){var a=document.createElement("DIV");a.classList.add("editor-wrapper"),this.textArea.insertAdjacentElement("beforebegin",a),a.appendChild(this.textArea),this.textArea.insertAdjacentElement("beforebegin",this.toolbar)}}]),a}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9qcy90ZXh0RWRpdG9yLmpzIl0sIm5hbWVzIjpbImNvbnRyb2xsZXJzTWFpbiIsImNtZCIsImFyZ3MiLCJpY29uIiwidHlwZSIsImdyb3VwIiwiY29udHJvbGxlcnNUaXRsZSIsIlRleHRFZGl0b3IiLCJ0ZXh0QXJlYUVsZW1lbnQiLCJjb250cm9sbGVycyIsInRleHRBcmVhIiwiY29udHJvbGxlckdyb3VwcyIsInRvb2xiYXIiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjb250YWluZXIiLCJpbml0aWFsaXplIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZURvY01vdXNldXAiLCJiaW5kIiwiaGFuZGxlVG9vbGJhck1vdXNlZG93biIsImRyb3BUcmlnZ2VycyIsImZvckVhY2giLCJ0cmlnZ2VyIiwidG9nZ2xlRHJvcGRvd24iLCJ0b29sQnRucyIsImJ0biIsImhhbmRsZUJ0bkNsaWNrIiwiZHJvcEl0ZW1zIiwiaXRlbSIsImhhbmRsZURyb3BJdGVtQ2xpY2siLCJoYW5kbGVUZXh0QXJlYUtleWRvd24iLCJjb25zb2xlIiwibG9nIiwidXBkYXRlVG9vbGJhclNlbGVjdGVkIiwiY2xhc3NMaXN0IiwiYWRkIiwiaW5zZXJ0RWRpdG9yIiwiY29udHJvbGxlciIsImkiLCJuYW1lIiwicHVzaCIsIml0ZW1zIiwiaW5kIiwiZmluZEluZGV4IiwiZ0RpdiIsImFwcGVuZENoaWxkIiwiYnVpbGREcm9wZG93biIsInF1ZXJ5U2VsZWN0b3IiLCJidWlsZERyb3Bkb3duSXRlbSIsImlubmVySFRNTCIsImFyZyIsImJ1aWxkQnRuIiwiZGl2IiwiZGF0YXNldCIsImNvbW1hbmQiLCJsaSIsInN0eWxlIiwiZm9udEZhbWlseSIsImZvbnRTaXplIiwiY29sb3IiLCJib3JkZXIiLCJodG1sIiwiQXJyYXkiLCJpc0FycmF5IiwiYXJndW1lbnQiLCJzdGFydFZhbCIsInNlcGVyYXRlR3JvdXBzIiwiYnVpbGRHcm91cHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZSIsImFjdGl2ZURyb3BNZW51IiwicHJldmVudERlZmF1bHQiLCJkcm9wIiwidGFyZ2V0IiwiY2xvc2VzdCIsImRyb3BJdGVtIiwiZm9jdXMiLCJleGVjQ29tbWFuZCIsIm1lbnUiLCJkaXNwbGF5IiwicmVtb3ZlIiwiZWwiLCJxdWVyeUNvbW1hbmRTdGF0ZSIsImZvbnRDb250cm9sbGVyIiwiZmluZCIsImN1cnJlbnRGb250IiwicXVlcnlDb21tYW5kVmFsdWUiLCJjdXJyZW50Rm9udEFycmF5IiwiY3VycmVudEZvbnRTaG9ydE5hbWUiLCJmb250TGFiZWwiLCJ0ZXh0Q29udGVudCIsImp1c3RpZnlMYWJlbCIsIndpbmRvdyIsImV2ZW50Iiwia2V5Q29kZSIsIndyYXBwZXIiLCJpbnNlcnRBZGphY2VudEVsZW1lbnQiXSwibWFwcGluZ3MiOiJrWkFBTUEsQ0FBQUEsZUFBZSxDQUFHLENBQ3RCLENBQUNDLEdBQUcsQ0FBRSxNQUFOLENBQWNDLElBQUksQ0FBRSxJQUFwQixDQUEwQkMsSUFBSSxDQUFFLE1BQWhDLENBQXdDQyxJQUFJLENBQUUsS0FBOUMsQ0FBcURDLEtBQUssQ0FBRSxRQUE1RCxDQURzQixDQUV0QixDQUFDSixHQUFHLENBQUUsTUFBTixDQUFjQyxJQUFJLENBQUUsSUFBcEIsQ0FBMEJDLElBQUksQ0FBRSxNQUFoQyxDQUF3Q0MsSUFBSSxDQUFFLEtBQTlDLENBQXFEQyxLQUFLLENBQUUsUUFBNUQsQ0FGc0IsQ0FHdEIsQ0FBQ0osR0FBRyxDQUFFLFVBQU4sQ0FBa0JFLElBQUksQ0FBRSxJQUF4QixDQUE4QkMsSUFBSSxDQUFFLFVBQXBDLENBQWdEQyxLQUFLLENBQUUsSUFBdkQsQ0FBNkRILElBQUksQ0FBRSxDQUNqRSxDQUFDLDhCQUFELENBQWlDLE9BQWpDLENBRGlFLENBRWpFLENBQUMscUNBQUQsQ0FBc0MsYUFBdEMsQ0FGaUUsQ0FHakUsQ0FBQyw2QkFBRCxDQUFnQyxTQUFoQyxDQUhpRSxDQUlqRSxDQUFDLHFDQUFELENBQXNDLFNBQXRDLENBSmlFLENBS2pFLENBQUMs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RUFBa0RFLElBQzdFLENBRUgsQ0FMRCxDQU1ELENBRUYsQyxvRUFFcUJtRSxDLENBQUUsQ0FDdEJBLENBQUMsQ0FBR0EsQ0FBQyxFQUFJdUIsTUFBTSxDQUFDQyxLQURNLENBRUosQ0FBZCxHQUFBeEIsQ0FBQyxDQUFDeUIsT0FGZ0IsR0FHcEJ6QixDQUFDLENBQUNFLGNBQUYsRUFIb0IsQ0FJcEIzRCxRQUFRLENBQUNpRSxXQUFULENBQXFCLFlBQXJCLElBQTBDLElBQTFDLENBSm9CLENBTXZCLEMsbURBRWEsQ0FDWixHQUFNa0IsQ0FBQUEsQ0FBTyxDQUFHbkYsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQWhCLENBQ0FrRixDQUFPLENBQUM3RCxTQUFSLENBQWtCQyxHQUFsQixDQUFzQixnQkFBdEIsQ0FGWSxDQUlaLEtBQUsxQixRQUFMLENBQWN1RixxQkFBZCxDQUFvQyxhQUFwQyxDQUFtREQsQ0FBbkQsQ0FKWSxDQU1aQSxDQUFPLENBQUNsRCxXQUFSLENBQW9CLEtBQUtwQyxRQUF6QixDQU5ZLENBUVosS0FBS0EsUUFBTCxDQUFjdUYscUJBQWQsQ0FBb0MsYUFBcEMsQ0FBbUQsS0FBS3JGLE9BQXhELENBRUQsQyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGNvbnRyb2xsZXJzTWFpbiA9IFtcbiAge2NtZDogXCJ1bmRvXCIsIGFyZ3M6IG51bGwsIGljb246ICd1bmRvJywgdHlwZTogJ2J0bicsIGdyb3VwOiAnbWVtb3J5J30sXG4gIHtjbWQ6IFwicmVkb1wiLCBhcmdzOiBudWxsLCBpY29uOiAncmVkbycsIHR5cGU6ICdidG4nLCBncm91cDogJ21lbW9yeSd9LFxuICB7Y21kOiBcImZvbnROYW1lXCIsIGljb246IG51bGwsIHR5cGU6ICdkcm9wZG93bicsIGdyb3VwOiBudWxsLCBhcmdzOiBbXG4gICAgWydBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmJywgJ0FyaWFsJ10sXG4gICAgWydcIkFyaWFsIEJsYWNrXCIsIEdhZGdldCwgc2Fucy1zZXJpZicsICdBcmlhbCBCbGFjayddLFxuICAgIFsnVmVyZGFuYSwgR2VuZXZhLCBzYW5zLXNlcmlmJywgJ1ZlcmRhbmEnXSwgXG4gICAgWydcIkNvdXJpZXIgTmV3XCIsIENvdXJpZXIsIG1vbm9zcGFjZScsICdDb3VyaWVyJ10sXG4gICAgWydcIlRpbWVzIE5ldyBSb21hblwiLCBUaW1lcywgc2VyaWYnLCAnVGltZXMnXV1cbiAgfSxcbiAge2NtZDogXCJmb250U2l6ZVwiLCBpY29uOiAnZm9ybWF0X3NpemUnLCB0eXBlOiAnZHJvcGRvd24nLCBncm91cDogbnVsbCwgYXJnczogW1xuICAgIFsyLCBcIlNtYWxsXCIsICdzbWFsbCddLCBbMywgXCJNZWRpdW1cIiwgJ21lZGl1bSddLCBbNCwgXCJMYXJnZVwiLCAnbGFyZ2UnXSwgWzUsIFwiSHVnZVwiLCAneC1sYXJnZSddXG4gIF19LFxuICB7Y21kOiBcImJvbGRcIiwgaWNvbjogJ2Zvcm1hdF9ib2xkJywgYXJnczogbnVsbCwgdHlwZTogJ2J0bicsIGdyb3VwOiAnc3R5bGl6ZSd9LFxuICB7Y21kOiBcIml0YWxpY1wiLCBpY29uOiAnZm9ybWF0X2l0YWxpYycsIGFyZ3M6IG51bGwsIHR5cGU6ICdidG4nLCBncm91cDogJ3N0eWxpemUnfSxcbiAge2NtZDogXCJ1bmRlcmxpbmVcIiwgaWNvbjogJ2Zvcm1hdF91bmRlcmxpbmUnLCBhcmdzOiBudWxsLCB0eXBlOiAnYnRuJywgZ3JvdXA6ICdzdHlsaXplJ30sXG4gIHtjbWQ6IFwiZm9yZUNvbG9yXCIsIGljb246J2Zvcm1hdF9jb2xvcl90ZXh0JywgdHlwZTogJ2Ryb3Bkb3duJywgZ3JvdXA6IG51bGwsIGFyZ3M6IFtcbiAgICBbJ2JsYWNrJywgXCJCbGFja1wiXSwgWydncmV5JywgJ0dyZXknXSwgWydyZWQnLCBcIlJlZFwiXSwgWydibHVlJywgXCJCbHVlXCJdLCBbJ2dyZWVuJywgXCJHcmVlblwiXSwgWyd3aGl0ZScsIFwiV2hpdGVcIl1cbiAgXX0sXG4gIHtjbWQ6IFwiYmFja0NvbG9yXCIsIGljb246J2Zvcm1hdF9jb2xvcl9maWxsJywgdHlwZTogJ2Ryb3Bkb3duJywgZ3JvdXA6IG51bGwsIGFyZ3M6IFtcbiAgICBbJ2JsYWNrJywgXCJCbGFja1wiXSwgWydncmV5JywgJ0dyZXknXSwgWydyZWQnLCBcIlJlZFwiXSwgWydibHVlJywgXCJCbHVlXCJdLCBbJ2dyZWVuJywgXCJHcmVlblwiXSwgWyd3aGl0ZScsIFwiV2hpdGVcIl1cbiAgXX0sXG4gIHtjbWQ6IFwianVzdGlmeUxlZnRcIiwgaWNvbjogJ2Zvcm1hdF9hbGlnbl9sZWZ0JyxhcmdzOiBudWxsLCB0eXBlOiAnZHJvcGRvd24nLCBncm91cDogJ2FsaWduJ30sXG4gIHtjbWQ6IFwianVzdGlmeVJpZ2h0XCIsIGljb246ICdmb3JtYXRfYWxpZ25fcmlnaHQnLGFyZ3M6IG51bGwsIHR5cGU6ICdkcm9wZG93bicsIGdyb3VwOiAnYWxpZ24nfSxcbiAge2NtZDogXCJqdXN0aWZ5Q2VudGVyXCIsIGljb246ICdmb3JtYXRfYWxpZ25fY2VudGVyJyxhcmdzOiBudWxsLCB0eXBlOiAnZHJvcGRvd24nLCBncm91cDogJ2FsaWduJ30sXG4gIHtjbWQ6IFwianVzdGlmeUZ1bGxcIiwgaWNvbjogJ2Zvcm1hdF9hbGlnbl9qdXN0aWZ5JywgYXJnczogbnVsbCwgdHlwZTogJ2Ryb3Bkb3duJywgZ3JvdXA6ICdhbGlnbid9LFxuICB7Y21kOiBcImluc2VydFVub3JkZXJlZExpc3RcIiwgaWNvbjogJ2Zvcm1hdF9saXN0X2J1bGxldGVkJywgYXJnczogbnVsbCwgdHlwZTogJ2J0bicsIGdyb3VwOiAnbGlzdCd9LFxuICB7Y21kOiBcImluc2VydE9yZGVyZWRMaXN0XCIsIGljb246ICdmb3JtYXRfbGlzdF9udW1iZXJlZCcsIGFyZ3M6IG51bGwsIHR5cGU6ICdidG4nLCBncm91cDogJ2xpc3QnfSxcbiAge2NtZDogXCJpbmRlbnRcIiwgaWNvbjogJ2Zvcm1hdF9pbmRlbnRfaW5jcmVhc2UnLCBhcmdzOiBudWxsLCB0eXBlOiAnYnRuJywgZ3JvdXA6ICdtaXNjJ30sXG4gIHtjbWQ6IFwib3V0ZGVudFwiLCBpY29uOiAnZm9ybWF0X2luZGVudF9kZWNyZWFzZScsIGFyZ3M6IG51bGwsIHR5cGU6ICdidG4nLCBncm91cDogJ21pc2MnfSxcbiAge2NtZDogXCJyZW1vdmVGb3JtYXRcIiwgaWNvbjogJ2Zvcm1hdF9jbGVhcicsIGFyZ3M6IG51bGwsIHR5cGU6ICdidG4nLCBncm91cDogJ21pc2MnfSxcbl1cblxuY29uc3QgY29udHJvbGxlcnNUaXRsZSA9IFtcbiAge2NtZDogXCJ1bmRvXCIsIGFyZ3M6IG51bGwsIGljb246ICd1bmRvJywgdHlwZTogJ2J0bicsIGdyb3VwOiAnbWVtb3J5J30sXG4gIHtjbWQ6IFwicmVkb1wiLCBhcmdzOiBudWxsLCBpY29uOiAncmVkbycsIHR5cGU6ICdidG4nLCBncm91cDogJ21lbW9yeSd9LFxuICB7Y21kOiBcImZvbnROYW1lXCIsIGljb246IG51bGwsIHR5cGU6ICdkcm9wZG93bicsIGdyb3VwOiBudWxsLCBhcmdzOiBbXG4gICAgWydBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmJywgJ0FyaWFsJ10sXG4gICAgWydcIkFyaWFsIEJsYWNrXCIsIEdhZGdldCwgc2Fucy1zZXJpZicsICdBcmlhbCBCbGFjayddLFxuICAgIFsnVmVyZGFuYSwgR2VuZXZhLCBzYW5zLXNlcmlmJywgJ1ZlcmRhbmEnXSwgXG4gICAgWydcIkNvdXJpZXIgTmV3XCIsIENvdXJpZXIsIG1vbm9zcGFjZScsICdDb3VyaWVyJ10sXG4gICAgWydcIlRpbWVzIE5ldyBSb21hblwiLCBUaW1lcywgc2VyaWYnLCAnVGltZXMnXV1cbiAgfSxcbiAge2NtZDogXCJib2xkXCIsIGljb246ICdmb3JtYXRfYm9sZCcsIGFyZ3M6IG51bGwsIHR5cGU6ICdidG4nLCBncm91cDogJ3N0eWxpemUnfSxcbiAge2NtZDogXCJpdGFsaWNcIiwgaWNvbjogJ2Zvcm1hdF9pdGFsaWMnLCBhcmdzOiBudWxsLCB0eXBlOiAnYnRuJywgZ3JvdXA6ICdzdHlsaXplJ30sXG4gIHtjbWQ6IFwidW5kZXJsaW5lXCIsIGljb246ICdmb3JtYXRfdW5kZXJsaW5lJywgYXJnczogbnVsbCwgdHlwZTogJ2J0bicsIGdyb3VwOiAnc3R5bGl6ZSd9LFxuICB7Y21kOiBcImZvcmVDb2xvclwiLCBpY29uOidmb3JtYXRfY29sb3JfdGV4dCcsIHR5cGU6ICdkcm9wZG93bicsIGdyb3VwOiBudWxsLCBhcmdzOiBbXG4gICAgWydibGFjaycsIFwiQmxhY2tcIl0sIFsnZ3JleScsICdHcmV5J10sIFsncmVkJywgXCJSZWRcIl0sIFsnYmx1ZScsIFwiQmx1ZVwiXSwgWydncmVlbicsIFwiR3JlZW5cIl0sIFsnd2hpdGUnLCBcIldoaXRlXCJdXG4gIF19LFxuICB7Y21kOiBcImJhY2tDb2xvclwiLCBpY29uOidmb3JtYXRfY29sb3JfZmlsbCcsIHR5cGU6ICdkcm9wZG93bicsIGdyb3VwOiBudWxsLCBhcmdzOiBbXG4gICAgWydibGFjaycsIFwiQmxhY2tcIl0sIFsnZ3JleScsICdHcmV5J10sIFsncmVkJywgXCJSZWRcIl0sIFsnYmx1ZScsIFwiQmx1ZVwiXSwgWydncmVlbicsIFwiR3JlZW5cIl0sIFsnd2hpdGUnLCBcIldoaXRlXCJdXG4gIF19LFxuICB7Y21kOiBcInJlbW92ZUZvcm1hdFwiLCBpY29uOiAnZm9ybWF0X2NsZWFyJywgYXJnczogbnVsbCwgdHlwZTogJ2J0bicsIGdyb3VwOiAnbWlzYyd9LFxuXVxuXG5cbmNsYXNzIFRleHRFZGl0b3Ige1xuICBjb25zdHJ1Y3RvciggdGV4dEFyZWFFbGVtZW50LCBjb250cm9sbGVycyApe1xuICAgIHRoaXMudGV4dEFyZWEgPSB0ZXh0QXJlYUVsZW1lbnRcbiAgICB0aGlzLmNvbnRyb2xsZXJzID0gY29udHJvbGxlcnNcbiAgICB0aGlzLmNvbnRyb2xsZXJHcm91cHMgPSBbXVxuICAgIHRoaXMudG9vbGJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0RJVicpXG4gICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKVxuXG4gICAgdGhpcy5pbml0aWFsaXplKClcblxuICAgIC8vIEV2ZW50IGxpc3RlbmVyc1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLmhhbmRsZURvY01vdXNldXAuYmluZCh0aGlzKSApXG4gICAgdGhpcy50b29sYmFyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuaGFuZGxlVG9vbGJhck1vdXNlZG93bi5iaW5kKHRoaXMpIClcbiAgICB0aGlzLmRyb3BUcmlnZ2Vycy5mb3JFYWNoKCB0cmlnZ2VyID0+IHtcbiAgICAgIHRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy50b2dnbGVEcm9wZG93biApXG4gICAgfSlcbiAgICB0aGlzLnRvb2xCdG5zLmZvckVhY2goIGJ0biA9PiB7XG4gICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5oYW5kbGVCdG5DbGljayApXG4gICAgfSlcbiAgICB0aGlzLmRyb3BJdGVtcy5mb3JFYWNoKCBpdGVtID0+IHtcbiAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5oYW5kbGVEcm9wSXRlbUNsaWNrIClcbiAgICB9KVxuICAgIHRoaXMudGV4dEFyZWEuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlVGV4dEFyZWFLZXlkb3duIClcbiAgICBjb25zb2xlLmxvZyh0aGlzLnRleHRBcmVhKVxuICAgIHRoaXMudGV4dEFyZWEuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMudXBkYXRlVG9vbGJhclNlbGVjdGVkLmJpbmQodGhpcykgKVxuXG4gICAgLy8gQ3JlYXRlIC8gU2V0dXAgVUlcbiAgICB0aGlzLnVwZGF0ZVRvb2xiYXJTZWxlY3RlZCgpXG4gICAgdGhpcy50b29sYmFyLmNsYXNzTGlzdC5hZGQoJ3Rvb2xiYXInKVxuXG4gICAgdGhpcy5pbnNlcnRFZGl0b3IoKVxuXG4gIH1cbiAgXG4gIHNlcGVyYXRlR3JvdXBzKCl7XG4gICAgLy8gR3JvdXAgY29udHJvbGxlcnMgdG8gYmUgcGFyc2VkIGZvciBkaXNwbGF5XG4gICAgdGhpcy5jb250cm9sbGVycy5mb3JFYWNoKCAoY29udHJvbGxlciwgaSkgPT4ge1xuICAgICAgaWYoIGkgPT0gMCB8fCAhY29udHJvbGxlci5ncm91cCB8fCBjb250cm9sbGVyLmdyb3VwICE9PSB0aGlzLmNvbnRyb2xsZXJzW2kgLSAxXS5ncm91cCApe1xuICAgICAgICBsZXQgbmFtZSA9IGNvbnRyb2xsZXIuZ3JvdXAgPyBjb250cm9sbGVyLmdyb3VwIDogJ3NpbmdsZSdcbiAgICAgICAgdGhpcy5jb250cm9sbGVyR3JvdXBzLnB1c2goe25hbWU6IG5hbWUsIGl0ZW1zOiBbY29udHJvbGxlcl19KVxuICAgICAgfVxuICAgICAgZWxzZSBpZiggY29udHJvbGxlci5ncm91cCAmJiBjb250cm9sbGVyLmdyb3VwID09PSB0aGlzLmNvbnRyb2xsZXJzW2ktMV0uZ3JvdXApe1xuICAgICAgICBsZXQgaW5kID0gdGhpcy5jb250cm9sbGVyR3JvdXBzLmZpbmRJbmRleCggaXRlbSA9PiBpdGVtLm5hbWUgPT09IGNvbnRyb2xsZXIuZ3JvdXAgKVxuICAgICAgICB0aGlzLmNvbnRyb2xsZXJHcm91cHNbaW5kXS5pdGVtcy5wdXNoKGNvbnRyb2xsZXIpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGJ1aWxkR3JvdXBzKCl7XG4gICAgdGhpcy5jb250cm9sbGVyR3JvdXBzLmZvckVhY2goIGdyb3VwID0+IHtcbiAgICAgIGxldCBnRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnRElWJylcbiAgICAgIGdEaXYuY2xhc3NMaXN0LmFkZCgnYnRuLWdyb3VwJylcbiAgICAgIGlmKGdyb3VwLm5hbWUgIT09ICdzaW5nbGUnICYmIGdyb3VwLml0ZW1zWzBdLnR5cGUgPT09ICdkcm9wZG93bicpeyAvLyBEcm9wZG93biB3aXRoIG11bHRpcGxlIGJ1dHRvbnNcbiAgICAgICAgZ0Rpdi5hcHBlbmRDaGlsZCh0aGlzLmJ1aWxkRHJvcGRvd24oZ3JvdXApKVxuICAgICAgICBncm91cC5pdGVtcy5mb3JFYWNoKCBpdGVtID0+IHtcbiAgICAgICAgICBnRGl2LnF1ZXJ5U2VsZWN0b3IoJy5kcm9wLW1lbnUnKS5hcHBlbmRDaGlsZCh0aGlzLmJ1aWxkRHJvcGRvd25JdGVtKGl0ZW0sIGl0ZW0uY21kKSlcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKGdEaXYpXG4gICAgICAgIHRoaXMudG9vbGJhci5pbm5lckhUTUwgKz0gJzxkaXYgY2xhc3M9XCJ0b29sYmFyLWJyZWFrXCI+PC9kaXY+J1xuICAgICAgfVxuICAgICAgZWxzZSBpZihncm91cC5uYW1lID09PSAnc2luZ2xlJyAmJiBncm91cC5pdGVtc1swXS50eXBlID09PSAnZHJvcGRvd24nKXsgLy8gRHJvcGRvd24gd2l0aCBub24tYnV0dG9uIGxpc3RcbiAgICAgICAgZ0Rpdi5hcHBlbmRDaGlsZCh0aGlzLmJ1aWxkRHJvcGRvd24oZ3JvdXApKVxuICAgICAgICBncm91cC5pdGVtc1swXS5hcmdzLmZvckVhY2goIGFyZyA9PiB7XG4gICAgICAgICAgZ0Rpdi5xdWVyeVNlbGVjdG9yKCcuZHJvcC1tZW51JykuYXBwZW5kQ2hpbGQodGhpcy5idWlsZERyb3Bkb3duSXRlbShhcmcsIGdyb3VwLml0ZW1zWzBdLmNtZCApKVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLnRvb2xiYXIuYXBwZW5kQ2hpbGQoZ0RpdilcbiAgICAgICAgdGhpcy50b29sYmFyLmlubmVySFRNTCArPSAnPGRpdiBjbGFzcz1cInRvb2xiYXItYnJlYWtcIj48L2Rpdj4nXG4gICAgICB9XG4gICAgICBlbHNlIGlmKGdyb3VwLm5hbWUgIT09ICdzaW5nbGUnICYmIGdyb3VwLml0ZW1zWzBdLnR5cGUgIT09ICdkcm9wZG93bicpeyAvLyBOb24tZHJvcGRvd24sIG11bHRpcGxlIGJ1dHRvbnNcbiAgICAgICAgZ3JvdXAuaXRlbXMuZm9yRWFjaCggaXRlbSA9PiB7XG4gICAgICAgICAgZ0Rpdi5hcHBlbmRDaGlsZCh0aGlzLmJ1aWxkQnRuKGl0ZW0pKVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLnRvb2xiYXIuYXBwZW5kQ2hpbGQoZ0RpdilcbiAgICAgICAgdGhpcy50b29sYmFyLmlubmVySFRNTCArPSAnPGRpdiBjbGFzcz1cInRvb2xiYXItYnJlYWtcIj48L2Rpdj4nXG4gICAgICB9XG4gICAgICBlbHNlIHsgLy8gTm9uIGRyb3Bkb3duLCBzaW5nbGUgYnV0dG9uLiA/Pz8gT3RoZXIgY2FzZXMgPz8/IFxuICAgICAgICBcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgYnVpbGRCdG4oaXRlbSl7XG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnRElWJylcbiAgICBkaXYuY2xhc3NMaXN0LmFkZCgndG9vbGJhci1idG4nKVxuICAgIGRpdi5kYXRhc2V0LmNvbW1hbmQgPSBpdGVtLmNtZFxuICAgIGRpdi5pbm5lckhUTUwgPSBgPGkgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPiR7aXRlbS5pY29ufTwvaT5gXG4gICAgcmV0dXJuIGRpdlxuICB9XG5cbiAgYnVpbGREcm9wZG93bkl0ZW0oaXRlbSwgY21kKXtcbiAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0xJJylcbiAgICBsZXQgYXJnXG4gICAgbGkuY2xhc3NMaXN0LmFkZCgnZHJvcC1pdGVtJylcbiAgICBpZiggY21kID09PSAnZm9udE5hbWUnKXtcbiAgICAgIGxpLnN0eWxlLmZvbnRGYW1pbHkgPSBpdGVtWzBdXG4gICAgICBhcmcgPSBpdGVtWzBdXG4gICAgfSBlbHNlIGlmICggY21kID09PSAnZm9udFNpemUnICl7XG4gICAgICBsaS5zdHlsZS5mb250U2l6ZSA9IGl0ZW1bMl1cbiAgICAgIGFyZyA9IGl0ZW1bMF1cbiAgICB9IGVsc2UgaWYgKCBjbWQgPT09ICdmb3JlQ29sb3InKXtcbiAgICAgIGxpLnN0eWxlLmNvbG9yID0gaXRlbVswXVxuICAgICAgYXJnID0gaXRlbVswXVxuICAgIH0gZWxzZSBpZiAoIGNtZCA9PT0gJ2JhY2tDb2xvcicpe1xuICAgICAgbGkuc3R5bGUuYm9yZGVyID0gXCIycHggc29saWQgXCIgKyBpdGVtWzBdXG4gICAgICBhcmcgPSBpdGVtWzBdICAgICAgIFxuICAgIH0gZWxzZSB7IGFyZyA9IG51bGx9XG4gICAgbGV0IGh0bWwgPSBBcnJheS5pc0FycmF5KGl0ZW0pID8gaXRlbVsxXSA6IFwiPGkgY2xhc3M9J21hdGVyaWFsLWljb25zJz5cIiArIGl0ZW0uaWNvbiArIFwiPC9pPlwiXG4gICAgbGkuaW5uZXJIVE1MID0gaHRtbFxuICAgIGxpLmRhdGFzZXQuY29tbWFuZCA9IGNtZFxuICAgIGxpLmRhdGFzZXQuYXJndW1lbnQgPSBhcmdcbiAgICByZXR1cm4gbGlcbiAgfVxuXG4gIGJ1aWxkRHJvcGRvd24oZ3JvdXApe1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0RJVicpXG4gICAgbGV0IHN0YXJ0VmFsID0gZ3JvdXAuaXRlbXNbMF0uaWNvbiA/IGdyb3VwLml0ZW1zWzBdLmljb24gOiBncm91cC5pdGVtc1swXS5hcmdzWzBdWzFdIC8vIFVzZSBpY29uIGlmIGhhcyBvbmVcbiAgICBsZXQgdHlwZSA9IGdyb3VwLml0ZW1zWzBdLmljb24gPyAnYnRuJyA6ICd0ZXh0J1xuICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdkcm9wLWNvbnRhaW5lcicpXG4gICAgaWYoZ3JvdXAuaXRlbXNbMF0uY21kID09PSAnZm9udE5hbWUnKXtcbiAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdmb250TmFtZS1jb250YWluZXInKVxuICAgIH1cbiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gYFxuICAgIDxkaXYgY2xhc3M9J2Ryb3AtdHJpZ2dlcicgZGF0YS1jb21tYW5kPScke2dyb3VwLml0ZW1zWzBdLmNtZH0nPlxuICAgICAgPHNwYW4+JHsgdHlwZSA9PT0gJ3RleHQnID8gc3RhcnRWYWwgOiAnPGkgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPicgKyBzdGFydFZhbCArICc8L2k+J308L3NwYW4+XG4gICAgICA8aSBjbGFzcz0nbWF0ZXJpYWwtaWNvbnMnPmFycm93X2Ryb3BfZG93bjwvaT5cbiAgICA8L2Rpdj5cbiAgICA8dWwgY2xhc3M9J2Ryb3AtbWVudSc+XG4gICAgPC91bD5gXG4gICAgcmV0dXJuIGNvbnRhaW5lclxuICB9XG5cbiAgaW5pdGlhbGl6ZSgpe1xuICAgIHRoaXMuc2VwZXJhdGVHcm91cHMoKVxuICAgIHRoaXMuYnVpbGRHcm91cHMoKVxuICAgIHRoaXMudG9vbEJ0bnMgPSB0aGlzLnRvb2xiYXIucXVlcnlTZWxlY3RvckFsbCgnLnRvb2xiYXItYnRuJylcbiAgICB0aGlzLmRyb3BUcmlnZ2VycyA9IHRoaXMudG9vbGJhci5xdWVyeVNlbGVjdG9yQWxsKCcuZHJvcC10cmlnZ2VyJylcbiAgICB0aGlzLmRyb3BJdGVtcyA9IHRoaXMudG9vbGJhci5xdWVyeVNlbGVjdG9yQWxsKCcuZHJvcC1pdGVtJylcbiAgfVxuXG4gIC8vIEV2ZW50IGhhbmRsZXJzXG5cbiAgaGFuZGxlRG9jTW91c2V1cChlKXtcbiAgICBjb25zdCBhY3RpdmVEcm9wTWVudSA9IHRoaXMudG9vbGJhci5xdWVyeVNlbGVjdG9yKCcuZHJvcC1tZW51LmFjdGl2ZScpXG4gICAgaWYoIGFjdGl2ZURyb3BNZW51ICl7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgIGNvbnN0IGRyb3AgPSBlLnRhcmdldC5jbG9zZXN0KCcuZHJvcC1jb250YWluZXInKVxuICAgICAgY29uc3QgZHJvcEl0ZW0gPSBlLnRhcmdldC5jbG9zZXN0KCcuZHJvcC1pdGVtJylcbiAgICAgIGlmKCAhZHJvcCApeyAvLyBJZiB0aGVyZSBpcyBhbiBhY3RpdmUgbWVudSBidXQgY2xpY2tlZCBvdXRzaWRlLCBoaWRlXG4gICAgICAgIHRoaXMudG9nZ2xlRHJvcGRvd24oKVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAoIGRyb3BJdGVtICl7IC8vIElmIGNsaWNrZWQgYSBkcm9wZG93biBtZW51IGl0ZW1cbiAgICAgICAgdGhpcy50b2dnbGVEcm9wZG93bigpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlVG9vbGJhck1vdXNlZG93bihlKXtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICB0aGlzLnRleHRBcmVhLmZvY3VzKClcbiAgICB0aGlzLnVwZGF0ZVRvb2xiYXJTZWxlY3RlZChlKVxuICB9XG5cbiAgaGFuZGxlQnRuQ2xpY2soZSl7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgYnRuID0gZS50YXJnZXQuY2xvc2VzdCgnLnRvb2xiYXItYnRuJylcbiAgICBkb2N1bWVudC5leGVjQ29tbWFuZChidG4uZGF0YXNldC5jb21tYW5kLCBmYWxzZSwgbnVsbClcbiAgfVxuXG4gIGhhbmRsZURyb3BJdGVtQ2xpY2soZSl7XG4gICAgY29uc3QgaXRlbSA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5kcm9wLWl0ZW0nKVxuICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKGl0ZW0uZGF0YXNldC5jb21tYW5kLCBmYWxzZSwgaXRlbS5kYXRhc2V0LmFyZ3VtZW50KVxuICB9XG5cbiAgLy8gVXRpbGl0eSBVSSBmdW5jdGlvbnNcblxuICB0b2dnbGVEcm9wZG93bihlID0gbnVsbCl7XG4gICAgaWYoIGUgKXtcbiAgICAgIGNvbnN0IG1lbnUgPSBlLnRhcmdldC5jbG9zZXN0KCcuZHJvcC1jb250YWluZXInKS5xdWVyeVNlbGVjdG9yKCcuZHJvcC1tZW51JylcbiAgICAgIGlmKCBtZW51LnN0eWxlLmRpc3BsYXkgPT09ICdibG9jaycpe1xuICAgICAgICBtZW51LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICAgICAgbWVudS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWVudS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xuICAgICAgICBtZW51LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY29uc3QgbWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kcm9wLW1lbnUuYWN0aXZlJylcbiAgICAgIGlmICggbWVudSApe1xuICAgICAgICBtZW51LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICAgICAgbWVudS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZVRvb2xiYXJTZWxlY3RlZCgpeyAvLyBVcGRhdGVzIHRvb2xiYXIgdG8gZGlzcGxheSBjdXJyZW50bHkgc2VsZWN0ZWQgc2V0dGluZ3Mgd2hlcmUgYXBwbGljYWJsZVxuICAgIC8vIFVwZGF0ZSBjdXJyZW50IHN0eWxpbmcgYnV0dG9uc1xuICAgIGNvbnN0IHNlbGVjdGFibGVDbWRzID0gW1wiYm9sZFwiLCBcInVuZGVybGluZVwiLCBcIml0YWxpY1wiLCBcImluc2VydFVub3JkZXJlZExpc3RcIiwgXCJpbnNlcnRPcmRlcmVkTGlzdFwiXVxuICAgIGNvbnN0IHRvb2xiYXIgPSB0aGlzLnRvb2xiYXJcbiAgICBzZWxlY3RhYmxlQ21kcy5mb3JFYWNoKCBjbWQgPT4ge1xuICAgICAgY29uc3QgZWwgPSB0b29sYmFyLnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1jb21tYW5kPSdcIiArIGNtZCArIFwiJ11cIilcbiAgICAgIGlmKCAhZWwgKXsgcmV0dXJuIH1cbiAgICAgIGVsc2UgaWYgKGRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN0YXRlKGNtZCkpeyAvLyBhZGQgYWN0aXZlIGNsYXNzIGlmIHF1ZXJ5Q29tbWFuZFN0YXRlIHJldHVybnMgdHJ1ZVxuICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuICAgICAgfSBcbiAgICAgIGVsc2Uge1xuICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICAgICAgfVxuICAgIH0pXG4gICAgXG4gICAgLy8gVXBkYXRlIEZvbnQgRHJvcGRvd25cbiAgICBjb25zdCBmb250Q29udHJvbGxlciA9IHRoaXMuY29udHJvbGxlcnMuZmluZCggaXRlbSA9PiBpdGVtLmNtZCA9PT0gJ2ZvbnROYW1lJylcbiAgICBjb25zdCBjdXJyZW50Rm9udCA9IGRvY3VtZW50LnF1ZXJ5Q29tbWFuZFZhbHVlKCdGb250TmFtZScpXG4gICAgY29uc3QgY3VycmVudEZvbnRBcnJheSA9IGZvbnRDb250cm9sbGVyLmFyZ3MuZmluZCggYXJnID0+IGFyZ1swXSA9PT0gY3VycmVudEZvbnQpXG4gICAgY29uc3QgY3VycmVudEZvbnRTaG9ydE5hbWUgPSBjdXJyZW50Rm9udEFycmF5ID8gY3VycmVudEZvbnRBcnJheVsxXSA6ICdEZWZhdWx0J1xuICAgIC8vIFVwZGF0ZSBmb250IGxhYmVsIHRvIHdoYXQgaXMgY3VycmVudGx5IHNlbGVjdGVkIGluIHRleHRBcmVhXG4gICAgY29uc3QgZm9udExhYmVsID0gdGhpcy50b29sYmFyLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbW1hbmQ9XCJmb250TmFtZVwiXSA+IHNwYW4nKVxuICAgIGZvbnRMYWJlbC50ZXh0Q29udGVudCA9IGN1cnJlbnRGb250U2hvcnROYW1lXG4gICAgZm9udExhYmVsLnN0eWxlLmZvbnRGYW1pbHkgPSBjdXJyZW50Rm9udFxuICAgIFxuICAgIC8vIFVwZGF0ZSBKdXN0aWZpY2F0aW9uIERyb3Bkb3duXG4gICAgaWYoIHRoaXMuY29udHJvbGxlcnMuZmluZChpdGVtID0+IGl0ZW0uZ3JvdXAgPT09ICdhbGlnbicpICl7XG4gICAgICBjb25zdCBqdXN0aWZ5QXJyID0gWydqdXN0aWZ5TGVmdCcsICdqdXN0aWZ5UmlnaHQnLCAnanVzdGlmeUNlbnRlcicsICdqdXN0aWZ5RnVsbCddXG4gICAgICBjb25zdCBqdXN0aWZ5TGFiZWwgPSB0aGlzLnRvb2xiYXIucXVlcnlTZWxlY3RvcignW2RhdGEtY29tbWFuZD1cImp1c3RpZnlMZWZ0XCJdID4gc3BhbiA+IGknKVxuICAgICAganVzdGlmeUFyci5mb3JFYWNoKCBjbWQgPT4ge1xuICAgICAgICBpZiggZG9jdW1lbnQucXVlcnlDb21tYW5kU3RhdGUoY21kKSApe1xuICAgICAgICAgIGp1c3RpZnlMYWJlbC50ZXh0Q29udGVudCA9IHRoaXMuY29udHJvbGxlcnMuZmluZCggaXRlbSA9PiBpdGVtLmNtZCA9PT0gY21kICkuaWNvblxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgICBcbiAgfVxuXG4gIGhhbmRsZVRleHRBcmVhS2V5ZG93bihlKXsgLy8gQWxsb3dzIHVzaW5nIFRhYiBpbiB0ZXh0IGFyZWFcbiAgICBlID0gZSB8fCB3aW5kb3cuZXZlbnQgLy8gZm9yIG9sZGVyIElFIHZlcnNpb25zXG4gICAgaWYoIGUua2V5Q29kZSA9PT0gOSl7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKCdpbnNlcnRUZXh0JywgZmFsc2UsIFwiICBcIilcbiAgICB9XG4gIH1cblxuICBpbnNlcnRFZGl0b3IoKXtcbiAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnRElWJylcbiAgICB3cmFwcGVyLmNsYXNzTGlzdC5hZGQoJ2VkaXRvci13cmFwcGVyJylcbiAgICAvLyBpbnNlcnQgd3JhcHBlciBiZWZvcmUgdGV4dEFyZWFcbiAgICB0aGlzLnRleHRBcmVhLmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlYmVnaW4nLCB3cmFwcGVyKVxuICAgIC8vIG1vdmUgdGV4dEFyZWEgaW5zaWRlIHdyYXBwZXJcbiAgICB3cmFwcGVyLmFwcGVuZENoaWxkKHRoaXMudGV4dEFyZWEpXG4gICAgLy8gaW5zZXJ0IHRvb2xiYXIgaW5zaWRlIHdyYXBwZXJcbiAgICB0aGlzLnRleHRBcmVhLmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlYmVnaW4nLCB0aGlzLnRvb2xiYXIpXG5cbiAgfVxuXG59XG5cblxuXG5cblxuXG4iXX0=